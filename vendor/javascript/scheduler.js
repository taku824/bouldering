// scheduler@0.26.0 downloaded from https://ga.jspm.io/npm:scheduler@0.26.0/index.js

var e={};function push(e,n){var t=e.length;e.push(n);e:for(;0<t;){var a=t-1>>>1,r=e[a];if(!(0<compare(r,n)))break e;e[a]=n,e[t]=r,t=a}}function peek(e){return 0===e.length?null:e[0]}function pop(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var a=0,r=e.length,l=r>>>1;a<l;){var o=2*(a+1)-1,i=e[o],u=o+1,s=e[u];if(0>compare(i,t))u<r&&0>compare(s,i)?(e[a]=s,e[u]=t,a=u):(e[a]=i,e[o]=t,a=o);else{if(!(u<r&&0>compare(s,t)))break e;e[a]=s,e[u]=t,a=u}}}return n}function compare(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}e.unstable_now=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var n=performance;e.unstable_now=function(){return n.now()}}else{var t=Date,a=t.now();e.unstable_now=function(){return t.now()-a}}var r=[],l=[],o=1,i=null,u=3,s=!1,c=!1,f=!1,p=!1,b="function"===typeof setTimeout?setTimeout:null,d="function"===typeof clearTimeout?clearTimeout:null,m="undefined"!==typeof setImmediate?setImmediate:null;function advanceTimers(e){for(var n=peek(l);null!==n;){if(null===n.callback)pop(l);else{if(!(n.startTime<=e))break;pop(l),n.sortIndex=n.expirationTime,push(r,n)}n=peek(l)}}function handleTimeout(e){f=!1;advanceTimers(e);if(!c)if(null!==peek(r))c=!0,k||(k=!0,h());else{var n=peek(l);null!==n&&requestHostTimeout(handleTimeout,n.startTime-e)}}var k=!1,v=-1,y=5,_=-1;function shouldYieldToHost(){return!!p||!(e.unstable_now()-_<y)}function performWorkUntilDeadline(){p=!1;if(k){var n=e.unstable_now();_=n;var t=!0;try{e:{c=!1;f&&(f=!1,d(v),v=-1);s=!0;var a=u;try{n:{advanceTimers(n);for(i=peek(r);null!==i&&!(i.expirationTime>n&&shouldYieldToHost());){var o=i.callback;if("function"===typeof o){i.callback=null;u=i.priorityLevel;var b=o(i.expirationTime<=n);n=e.unstable_now();if("function"===typeof b){i.callback=b;advanceTimers(n);t=!0;break n}i===peek(r)&&pop(r);advanceTimers(n)}else pop(r);i=peek(r)}if(null!==i)t=!0;else{var m=peek(l);null!==m&&requestHostTimeout(handleTimeout,m.startTime-n);t=!1}}break e}finally{i=null,u=a,s=!1}t=void 0}}finally{t?h():k=!1}}}var h;if("function"===typeof m)h=function(){m(performWorkUntilDeadline)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,w=T.port2;T.port1.onmessage=performWorkUntilDeadline;h=function(){w.postMessage(null)}}else h=function(){b(performWorkUntilDeadline,0)};function requestHostTimeout(n,t){v=b((function(){n(e.unstable_now())}),t)}e.unstable_IdlePriority=5;e.unstable_ImmediatePriority=1;e.unstable_LowPriority=4;e.unstable_NormalPriority=3;e.unstable_Profiling=null;e.unstable_UserBlockingPriority=2;e.unstable_cancelCallback=function(e){e.callback=null};e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};e.unstable_getCurrentPriorityLevel=function(){return u};e.unstable_next=function(e){switch(u){case 1:case 2:case 3:var n=3;break;default:n=u}var t=u;u=n;try{return e()}finally{u=t}};e.unstable_requestPaint=function(){p=!0};e.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=u;u=e;try{return n()}finally{u=t}};e.unstable_scheduleCallback=function(n,t,a){var i=e.unstable_now();"object"===typeof a&&null!==a?(a=a.delay,a="number"===typeof a&&0<a?i+a:i):a=i;switch(n){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}u=a+u;n={id:o++,callback:t,priorityLevel:n,startTime:a,expirationTime:u,sortIndex:-1};a>i?(n.sortIndex=a,push(l,n),null===peek(r)&&n===peek(l)&&(f?(d(v),v=-1):f=!0,requestHostTimeout(handleTimeout,a-i))):(n.sortIndex=u,push(r,n),c||s||(c=!0,k||(k=!0,h())));return n};e.unstable_shouldYield=shouldYieldToHost;e.unstable_wrapCallback=function(e){var n=u;return function(){var t=u;u=n;try{return e.apply(this,arguments)}finally{u=t}}};const P=e.unstable_now,g=e.unstable_IdlePriority,x=e.unstable_ImmediatePriority,I=e.unstable_LowPriority,C=e.unstable_NormalPriority,H=e.unstable_Profiling,q=e.unstable_UserBlockingPriority,L=e.unstable_cancelCallback,U=e.unstable_forceFrameRate,W=e.unstable_getCurrentPriorityLevel,D=e.unstable_next,Y=e.unstable_requestPaint,M=e.unstable_runWithPriority,F=e.unstable_scheduleCallback,R=e.unstable_shouldYield,j=e.unstable_wrapCallback;export{e as default,g as unstable_IdlePriority,x as unstable_ImmediatePriority,I as unstable_LowPriority,C as unstable_NormalPriority,H as unstable_Profiling,q as unstable_UserBlockingPriority,L as unstable_cancelCallback,U as unstable_forceFrameRate,W as unstable_getCurrentPriorityLevel,D as unstable_next,P as unstable_now,Y as unstable_requestPaint,M as unstable_runWithPriority,F as unstable_scheduleCallback,R as unstable_shouldYield,j as unstable_wrapCallback};

